<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cours 4 - Fonctions en Python | NSI Première</title>
    <link rel="stylesheet" href="../styles/neumorphic.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/level-pages.css">
    <script src="../scripts/main.js" defer></script>
    <link rel="stylesheet" href="../styles/prism.css">
    <script src="../scripts/prism.js" defer></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Clément BRAUN</h1>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item dropdown">
                        <a href="../seconde/index.html" class="nav-link">Seconde <span class="arrow">▼</span></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-submenu">
                                <a href="../seconde/internet.html">Internet <span class="arrow-right">▶</span></a>
                                <ul class="submenu">
                                    <li><span class="submenu-title">Cours</span></li>
                                    <li><a href="../seconde/internet.html">Internet - Cours</a></li>
                                    <li class="submenu-divider"></li>
                                    <li><span class="submenu-title">Activités</span></li>
                                    <li><a href="../seconde/internet-activite-simulation.html">Simulation d'un réseau</a></li>
                                    <li><a href="../seconde/internet-activite-serveurs.html">Serveurs WEB et DNS</a></li>
                                    <li><a href="../seconde/internet-activite-binaire.html">Le binaire</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a href="../seconde/web.html">Web <span class="arrow-right">▶</span></a>
                                <ul class="submenu">
                                    <li><span class="submenu-title">Cours</span></li>
                                    <li><a href="../seconde/web.html">Web - Cours</a></li>
                                    <li class="submenu-divider"></li>
                                    <li><span class="submenu-title">Activités</span></li>
                                    <li><a href="../seconde/web-activite-html-css.html">HTML et CSS</a></li>
                                    <li><a href="../seconde/web-activite-client-serveur.html">Client-Serveur</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a href="../seconde/reseaux-sociaux.html">Réseaux Sociaux <span class="arrow-right">▶</span></a>
                                <ul class="submenu">
                                    <li><span class="submenu-title">Cours</span></li>
                                    <li><a href="../seconde/reseaux-sociaux.html">Réseaux Sociaux - Cours</a></li>
                                    <li class="submenu-divider"></li>
                                    <li><span class="submenu-title">Activités</span></li>
                                    <li><a href="../seconde/reseaux-sociaux-activite-impact.html">Impact des Réseaux Sociaux</a></li>
                                    <li><a href="../seconde/reseaux-sociaux-activite-securite.html">Vie Privée et Sécurité</a></li>
                                </ul>
                            </li>
                            <li><a href="../seconde/python.html">Programmation Python</a></li>
                            <li><a href="../seconde/photo-numerique.html">Photographie Numérique</a></li>
                            <li><a href="../seconde/geolocalisation.html">Géolocalisation</a></li>
                            <li><a href="../seconde/donnees-structurees.html">Données Structurées</a></li>
                            <li><a href="../seconde/objets-connectes.html">Objets Connectés</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="index.html" class="nav-link active">Première <span class="arrow">▼</span></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-submenu">
                                <a href="constructions-elementaires.html" class="active">Constructions élémentaires <span class="arrow-right">▶</span></a>
                                <ul class="submenu">
                                    <li><span class="submenu-title">Cours</span></li>
                                    <li><a href="constructions-elementaires-cours-1.html">Cours 1 - Constructions élémentaires en Python</a></li>
                                    <li><a href="constructions-elementaires-cours-2.html">Cours 2 - Types de données en Python</a></li>
                                    <li><a href="constructions-elementaires-cours-3.html">Cours 3 - Structures de contrôle en Python</a></li>
                                    <li><a href="constructions-elementaires-cours-4.html" class="active">Cours 4 - Fonctions en Python</a></li>
                                    <li class="submenu-divider"></li>
                                    <li><span class="submenu-title">Fiches d'exercices</span></li>
                                    <li><a href="constructions-elementaires-exercices-fonctions.html">Exercices sur les fonctions</a></li>
                                    <li><a href="constructions-elementaires-exercices-boucles.html">Exercices sur les boucles</a></li>
                                    <li><a href="constructions-elementaires-exercices-specification.html">Exercices sur la spécification</a></li>
                                </ul>
                            </li>
                            <li><a href="representation-donnees.html">Représentation des données</a></li>
                            <li><a href="structures-donnees-lineaires.html">Structures de données linéaires</a></li>
                            <li><a href="architecture-machine.html">Architecture d'une machine</a></li>
                            <li><a href="dictionnaires-tables.html">Dictionnaires et Traitement de tables</a></li>
                            <li><a href="internet-reseaux.html">Internet et Réseaux</a></li>
                            <li><a href="algorithmes-tableaux.html">Algorithmes sur les tableaux</a></li>
                            <li><a href="algorithmes-gloutons.html">Algorithmes Gloutons</a></li>
                            <li><a href="systemes-linux.html">Systèmes d'exploitation et Linux</a></li>
                            <li><a href="web-http.html">Web et HTTP</a></li>
                            <li><a href="knn.html">K plus proches voisins</a></li>
                            <li><a href="projets.html">Projets</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="../terminale/index.html" class="nav-link">Terminale <span class="arrow">▼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="../terminale/structures-donnees.html">Structures de données</a></li>
                            <li><a href="../terminale/bases-donnees.html">Bases de données</a></li>
                            <li><a href="../terminale/architectures-systemes-reseaux.html">Architectures, Systèmes et Réseaux</a></li>
                            <li><a href="../terminale/langages-programmation.html">Langages de Programmation</a></li>
                            <li><a href="../terminale/algorithmique.html">Algorithmique</a></li>
                            <li><a href="../terminale/projets.html">Projets</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="../index.html" class="nav-link">Accueil</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="level-hero" data-level="premiere">
            <div class="container">
                <div class="level-hero-content">
                    <div class="level-mascot">
                        <img src="../images/fox_premiere.png" alt="Renard NSI Première" class="fox-mascot advanced">
                    </div>
                    <div class="level-info">
                        <h2>Cours 4 - Fonctions en Python</h2>
                        <p>Numérique et Sciences Informatiques - Première</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="level-content" data-level="premiere">
            <div class="container">
                <div class="neumorphic-card">
                    <h2>Les fonctions en Python</h2>
                    <p>Les fonctions sont des blocs de code réutilisables qui effectuent une tâche spécifique. Elles permettent de :</p>
                    <ul>
                        <li>Structurer le code en le divisant en unités logiques</li>
                        <li>Éviter la répétition de code (principe DRY : Don't Repeat Yourself)</li>
                        <li>Rendre le code plus lisible et plus facile à maintenir</li>
                        <li>Faciliter les tests et le débogage</li>
                    </ul>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Définition et appel de fonctions</h2>
                    
                    <h3>Définition d'une fonction</h3>
                    <p>En Python, une fonction est définie à l'aide du mot-clé <code>def</code>, suivi du nom de la fonction, de parenthèses (qui peuvent contenir des paramètres) et de deux-points. Le corps de la fonction est indenté.</p>
                    
                    <pre><code class="language-python"># Définition d'une fonction simple
def dire_bonjour():
    print("Bonjour !")

# Définition d'une fonction avec paramètres
def dire_bonjour_a(nom):
    print(f"Bonjour, {nom} !")

# Définition d'une fonction avec valeur de retour
def somme(a, b):
    resultat = a + b
    return resultat
</code></pre>
                    
                    <h3>Appel de fonction</h3>
                    <p>Pour appeler une fonction, on utilise son nom suivi de parenthèses, en fournissant les arguments nécessaires.</p>
                    
                    <pre><code class="language-python"># Appel de fonctions
dire_bonjour()  # Affiche : Bonjour !

dire_bonjour_a("Alice")  # Affiche : Bonjour, Alice !

resultat = somme(3, 5)
print(resultat)  # Affiche : 8

# On peut aussi utiliser directement la valeur de retour
print(somme(10, 20))  # Affiche : 30
</code></pre>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Paramètres et arguments</h2>
                    
                    <h3>Paramètres positionnels</h3>
                    <p>Les paramètres positionnels sont associés aux arguments dans l'ordre où ils sont fournis lors de l'appel de la fonction.</p>
                    
                    <pre><code class="language-python"># Fonction avec plusieurs paramètres positionnels
def afficher_infos(nom, age, ville):
    print(f"{nom} a {age} ans et habite à {ville}.")

# Appel avec arguments positionnels
afficher_infos("Alice", 25, "Paris")
# Affiche : Alice a 25 ans et habite à Paris.
</code></pre>
                    
                    <h3>Paramètres nommés</h3>
                    <p>Les paramètres nommés permettent de spécifier explicitement quel argument correspond à quel paramètre, indépendamment de l'ordre.</p>
                    
                    <pre><code class="language-python"># Appel avec arguments nommés
afficher_infos(ville="Lyon", nom="Bob", age=30)
# Affiche : Bob a 30 ans et habite à Lyon.

# On peut mélanger arguments positionnels et nommés
# Les arguments positionnels doivent venir avant les nommés
afficher_infos("Charlie", ville="Marseille", age=22)
# Affiche : Charlie a 22 ans et habite à Marseille.
</code></pre>
                    
                    <h3>Paramètres par défaut</h3>
                    <p>Les paramètres par défaut permettent de spécifier une valeur qui sera utilisée si aucun argument n'est fourni pour ce paramètre.</p>
                    
                    <pre><code class="language-python"># Fonction avec paramètres par défaut
def saluer(nom, message="Bonjour"):
    print(f"{message}, {nom} !")

saluer("Alice")  # Utilise la valeur par défaut pour message
# Affiche : Bonjour, Alice !

saluer("Bob", "Salut")  # Remplace la valeur par défaut
# Affiche : Salut, Bob !
</code></pre>
                    
                    <div class="warning-box">
                        <h4>Attention aux valeurs mutables comme valeurs par défaut</h4>
                        <p>Il faut être prudent lorsqu'on utilise des objets mutables (comme des listes ou des dictionnaires) comme valeurs par défaut, car ils sont créés une seule fois lors de la définition de la fonction.</p>
                        <pre><code class="language-python"># Problème avec une liste comme valeur par défaut
def ajouter_element(element, liste=[]):
    liste.append(element)
    return liste

print(ajouter_element(1))  # [1]
print(ajouter_element(2))  # [1, 2] et non pas [2] !

# Solution : utiliser None comme valeur par défaut
def ajouter_element_correct(element, liste=None):
    if liste is None:
        liste = []
    liste.append(element)
    return liste

print(ajouter_element_correct(1))  # [1]
print(ajouter_element_correct(2))  # [2]
</code></pre>
                    </div>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Portée des variables</h2>
                    <p>La portée d'une variable définit où cette variable peut être utilisée dans le code.</p>
                    
                    <h3>Variables locales</h3>
                    <p>Les variables définies à l'intérieur d'une fonction sont des variables locales. Elles ne sont accessibles que dans le corps de la fonction.</p>
                    
                    <pre><code class="language-python"># Variables locales
def ma_fonction():
    x = 10  # Variable locale
    print(x)

ma_fonction()  # Affiche : 10
# print(x)  # Erreur : x n'est pas défini en dehors de la fonction
</code></pre>
                    
                    <h3>Variables globales</h3>
                    <p>Les variables définies en dehors de toute fonction sont des variables globales. Elles sont accessibles partout dans le module.</p>
                    
                    <pre><code class="language-python"># Variables globales
y = 20  # Variable globale

def afficher_y():
    print(y)  # Accès à la variable globale y

afficher_y()  # Affiche : 20
</code></pre>
                    
                    <h3>Mot-clé global</h3>
                    <p>Pour modifier une variable globale à l'intérieur d'une fonction, il faut utiliser le mot-clé <code>global</code>.</p>
                    
                    <pre><code class="language-python"># Utilisation du mot-clé global
compteur = 0

def incrementer():
    global compteur
    compteur += 1
    print(compteur)

incrémenter()  # Affiche : 1
incrémenter()  # Affiche : 2
print(compteur)  # Affiche : 2
</code></pre>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Fonctions avancées</h2>
                    
                    <h3>Fonctions comme objets de première classe</h3>
                    <p>En Python, les fonctions sont des objets de première classe, ce qui signifie qu'elles peuvent être :</p>
                    <ul>
                        <li>Assignées à des variables</li>
                        <li>Passées comme arguments à d'autres fonctions</li>
                        <li>Retournées par d'autres fonctions</li>
                    </ul>
                    
                    <pre><code class="language-python"># Fonction comme objet de première classe
def saluer(nom):
    return f"Bonjour, {nom} !"

# Assigner une fonction à une variable
ma_fonction = saluer
print(ma_fonction("Alice"))  # Affiche : Bonjour, Alice !

# Fonction qui prend une fonction comme argument
def appliquer_fonction(f, valeur):
    return f(valeur)

print(appliquer_fonction(saluer, "Bob"))  # Affiche : Bonjour, Bob !

# Fonction qui retourne une fonction
def creer_fonction_salutation(prefixe):
    def salutation(nom):
        return f"{prefixe}, {nom} !"
    return salutation

salut = creer_fonction_salutation("Salut")
print(salut("Charlie"))  # Affiche : Salut, Charlie !
</code></pre>
                    
                    <h3>Fonctions lambda</h3>
                    <p>Les fonctions lambda sont des fonctions anonymes (sans nom) qui peuvent être définies en une seule ligne. Elles sont utiles pour créer de petites fonctions à usage unique.</p>
                    
                    <pre><code class="language-python"># Fonction lambda
carre = lambda x: x ** 2
print(carre(5))  # Affiche : 25

# Utilisation avec des fonctions comme map
nombres = [1, 2, 3, 4, 5]
carres = list(map(lambda x: x ** 2, nombres))
print(carres)  # Affiche : [1, 4, 9, 16, 25]

# Utilisation avec des fonctions comme filter
pairs = list(filter(lambda x: x % 2 == 0, nombres))
print(pairs)  # Affiche : [2, 4]
</code></pre>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Documentation et spécification</h2>
                    
                    <h3>Docstrings</h3>
                    <p>Les docstrings sont des chaînes de documentation qui décrivent ce que fait une fonction, ses paramètres et sa valeur de retour. Elles sont placées juste après la ligne de définition de la fonction.</p>
                    
                    <pre><code class="language-python"># Fonction avec docstring
def calculer_moyenne(nombres):
    """Calcule la moyenne d'une liste de nombres.
    
    Args:
        nombres (list): Une liste de nombres (int ou float).
        
    Returns:
        float: La moyenne des nombres.
        
    Raises:
        ValueError: Si la liste est vide.
        TypeError: Si la liste contient des éléments non numériques.
    """
    if not nombres:
        raise ValueError("La liste ne peut pas être vide.")
    
    total = sum(nombres)
    return total / len(nombres)

# Accès à la docstring
print(calculer_moyenne.__doc__)

# Utilisation de la fonction help
help(calculer_moyenne)
</code></pre>
                    
                    <h3>Annotations de type</h3>
                    <p>Les annotations de type permettent de spécifier les types attendus pour les paramètres et la valeur de retour d'une fonction. Elles sont purement informatives et n'affectent pas l'exécution du code.</p>
                    
                    <pre><code class="language-python"># Fonction avec annotations de type
def saluer(nom: str, age: int) -> str:
    return f"Bonjour, {nom} ! Tu as {age} ans."

# Les annotations n'empêchent pas d'utiliser d'autres types
print(saluer("Alice", "vingt-cinq"))  # Fonctionne, mais pas conforme aux annotations

# Pour vérifier les types à l'exécution, on peut utiliser des bibliothèques comme mypy
</code></pre>
                </div>
                
                <div class="neumorphic-card">
                    <h2>Exercices pratiques</h2>
                    
                    <h3>Exercice 1 : Calculatrice simple</h3>
                    <p>Écrivez une fonction <code>calculatrice</code> qui prend trois paramètres : deux nombres et une opération (sous forme de chaîne de caractères : '+', '-', '*' ou '/'). La fonction doit retourner le résultat de l'opération.</p>
                    
                    <div class="solution-toggle">
                        <button class="btn btn-primary toggle-btn">Voir la solution</button>
                        <div class="solution-content" style="display: none;">
                            <pre><code class="language-python">def calculatrice(a, b, operation):
    """Effectue une opération arithmétique entre deux nombres.
    
    Args:
        a (float): Premier nombre
        b (float): Deuxième nombre
        operation (str): Opération à effectuer ('+', '-', '*' ou '/')
        
    Returns:
        float: Résultat de l'opération
        
    Raises:
        ValueError: Si l'opération n'est pas reconnue
        ZeroDivisionError: Si on tente de diviser par zéro
    """
    if operation == '+':
        return a + b
    elif operation == '-':
        return a - b
    elif operation == '*':
        return a * b
    elif operation == '/':
        if b == 0:
            raise ZeroDivisionError("Division par zéro impossible")
        return a / b
    else:
        raise ValueError(f"Opération non reconnue : {operation}")

# Tests
print(calculatrice(10, 5, '+'))  # 15.0
print(calculatrice(10, 5, '-'))  # 5.0
print(calculatrice(10, 5, '*'))  # 50.0
print(calculatrice(10, 5, '/'))  # 2.0
</code></pre>
                        </div>
                    </div>
                    
                    <h3>Exercice 2 : Palindrome</h3>
                    <p>Écrivez une fonction <code>est_palindrome</code> qui prend une chaîne de caractères en paramètre et retourne <code>True</code> si c'est un palindrome (se lit de la même façon dans les deux sens), <code>False</code> sinon. La fonction doit ignorer la casse et les espaces.</p>
                    
                    <div class="solution-toggle">
                        <button class="btn btn-primary toggle-btn">Voir la solution</button>
                        <div class="solution-content" style="display: none;">
                            <pre><code class="language-python">def est_palindrome(texte):
    """Vérifie si une chaîne est un palindrome.
    
    Args:
        texte (str): La chaîne à vérifier
        
    Returns:
        bool: True si c'est un palindrome, False sinon
    """
    # Supprimer les espaces et convertir en minuscules
    texte = texte.lower().replace(" ", "")
    
    # Comparer la chaîne avec sa version inversée
    return texte == texte[::-1]

# Tests
print(est_palindrome("radar"))  # True
print(est_palindrome("Elu par cette crapule"))  # True
print(est_palindrome("Python"))  # False
</code></pre>
                        </div>
                    </div>
                    
                    <h3>Exercice 3 : Fonction de tri personnalisée</h3>
                    <p>Écrivez une fonction <code>trier_personnes</code> qui prend une liste de dictionnaires représentant des personnes (avec les clés 'nom' et 'age') et un paramètre <code>critere</code> qui peut être 'nom' ou 'age'. La fonction doit retourner la liste triée selon le critère spécifié.</p>
                    
                    <div class="solution-toggle">
                        <button class="btn btn-primary toggle-btn">Voir la solution</button>
                        <div class="solution-content" style="display: none;">
                            <pre><code class="language-python">def trier_personnes(personnes, critere='nom'):
    """Trie une liste de personnes selon un critère.
    
    Args:
        personnes (list): Liste de dictionnaires avec les clés 'nom' et 'age'
        critere (str, optional): Critère de tri ('nom' ou 'age'). Par défaut 'nom'.
        
    Returns:
        list: Liste triée selon le critère
        
    Raises:
        ValueError: Si le critère n'est pas 'nom' ou 'age'
    """
    if critere not in ['nom', 'age']:
        raise ValueError("Le critère doit être 'nom' ou 'age'")
    
    return sorted(personnes, key=lambda personne: personne[critere])

# Test
personnes = [
    {'nom': 'Alice', 'age': 25},
    {'nom': 'Bob', 'age': 30},
    {'nom': 'Charlie', 'age': 22},
    {'nom': 'David', 'age': 35}
]

print("Tri par nom :")
for p in trier_personnes(personnes, 'nom'):
    print(f"{p['nom']} ({p['age']} ans)")

print("\nTri par âge :")
for p in trier_personnes(personnes, 'age'):
    print(f"{p['nom']} ({p['age']} ans)")
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="level-navigation">
            <div class="container">
                <div class="nav-buttons">
                    <a href="constructions-elementaires-cours-3.html" class="btn btn-secondary">← Cours précédent</a>
                    <a href="constructions-elementaires.html" class="btn btn-primary">Retour au chapitre →</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 Clément BRAUN - Tous droits réservés</p>
        </div>
    </footer>
    
    <script>
        // Script pour afficher/masquer les solutions
        document.querySelectorAll('.toggle-btn').forEach(button => {
            button.addEventListener('click', function() {
                const solutionContent = this.nextElementSibling;
                if (solutionContent.style.display === 'none') {
                    solutionContent.style.display = 'block';
                    this.textContent = 'Masquer la solution';
                } else {
                    solutionContent.style.display = 'none';
                    this.textContent = 'Voir la solution';
                }
            });
        });
    </script>
</body>
</html>